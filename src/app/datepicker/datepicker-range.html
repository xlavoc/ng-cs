<div class="input-group">
  <input
    id="inputFlightDateRange"
    class="form-control bg-white"
    placeholder="RRRR/MM/DD - RRRR/MM/DD"
    name="dp"
    [autoClose]="'outside'"
    (dateSelect)="onDateSelection($event)"
    [displayMonths]="2"
    [dayTemplate]="t"
    [maxDate]="today"
    navigation="'arrows'"
    outsideDays="hidden"
    ngbDatepicker
    #d="ngbDatepicker"
    #flightDateRange
    (input)="onDateRangeInput()"
  />
  <button class="btn btn-outline-primary" (click)="d.toggle()" type="button">
    <svg width="22" height="24" viewBox="0 0 22 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M1.69231 18.4286V22.2857H5.5V18.4286H1.69231ZM6.34615 18.4286V22.2857H10.5769V18.4286H6.34615ZM1.69231 13.2857V17.5714H5.5V13.2857H1.69231ZM6.34615 13.2857V17.5714H10.5769V13.2857H6.34615ZM1.69231 8.57143V12.4286H5.5V8.57143H1.69231ZM11.4231 18.4286V22.2857H15.6538V18.4286H11.4231ZM6.34615 8.57143V12.4286H10.5769V8.57143H6.34615ZM16.5 18.4286V22.2857H20.3077V18.4286H16.5ZM11.4231 13.2857V17.5714H15.6538V13.2857H11.4231ZM6.64363 6.30134C6.72736 6.21652 6.76923 6.11607 6.76923 6V2.14286C6.76923 2.02679 6.72736 1.92634 6.64363 1.84152C6.5599 1.7567 6.46074 1.71429 6.34615 1.71429H5.5C5.38542 1.71429 5.28626 1.7567 5.20252 1.84152C5.11879 1.92634 5.07692 2.02679 5.07692 2.14286V6C5.07692 6.11607 5.11879 6.21652 5.20252 6.30134C5.28626 6.38616 5.38542 6.42857 5.5 6.42857H6.34615C6.46074 6.42857 6.5599 6.38616 6.64363 6.30134ZM16.5 13.2857V17.5714H20.3077V13.2857H16.5ZM11.4231 8.57143V12.4286H15.6538V8.57143H11.4231ZM16.5 8.57143V12.4286H20.3077V8.57143H16.5ZM16.7975 6.30134C16.8812 6.21652 16.9231 6.11607 16.9231 6V2.14286C16.9231 2.02679 16.8812 1.92634 16.7975 1.84152C16.7137 1.7567 16.6146 1.71429 16.5 1.71429H15.6538C15.5393 1.71429 15.4401 1.7567 15.3564 1.84152C15.2726 1.92634 15.2308 2.02679 15.2308 2.14286V6C15.2308 6.11607 15.2726 6.21652 15.3564 6.30134C15.4401 6.38616 15.5393 6.42857 15.6538 6.42857H16.5C16.6146 6.42857 16.7137 6.38616 16.7975 6.30134ZM21.4976 3.9375C21.8325 4.27679 22 4.67857 22 5.14286V22.2857C22 22.75 21.8325 23.1518 21.4976 23.4911C21.1627 23.8304 20.766 24 20.3077 24H1.69231C1.23397 24 0.83734 23.8304 0.502404 23.4911C0.167468 23.1518 0 22.75 0 22.2857V5.14286C0 4.67857 0.167468 4.27679 0.502404 3.9375C0.83734 3.59821 1.23397 3.42857 1.69231 3.42857H3.38462V2.14286C3.38462 1.55357 3.59175 1.04911 4.00601 0.629464C4.42027 0.209821 4.91827 0 5.5 0H6.34615C6.92788 0 7.42588 0.209821 7.84014 0.629464C8.25441 1.04911 8.46154 1.55357 8.46154 2.14286V3.42857H13.5385V2.14286C13.5385 1.55357 13.7456 1.04911 14.1599 0.629464C14.5741 0.209821 15.0721 0 15.6538 0H16.5C17.0817 0 17.5797 0.209821 17.994 0.629464C18.4083 1.04911 18.6154 1.55357 18.6154 2.14286V3.42857H20.3077C20.766 3.42857 21.1627 3.59821 21.4976 3.9375Z" fill="currentColor"/>
    </svg>
  </button>
</div>

<ng-template #t let-date let-focused="focused">
	<span
		class="custom-day"
		[class.focused]="focused"
		[class.range]="isRange(date)"
		[class.faded]="isHovered(date) || isInside(date)"
    [class.text-body-tertiary]="isDisabled(date)"
		(mouseenter)="hoveredDate = date"
		(mouseleave)="hoveredDate = null"
	>
		{{ date.day }}
	</span>
</ng-template>
